<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2024 Presidential Greatness Rankings</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Source+Serif+4:ital,wght@0,300;0,400;0,600;1,300&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #f5f0e8;
    --parchment: #ede4cf;
    --dark: #1a1208;
    --ink: #2c1f0a;
    --gold: #b8860b;
    --gold-light: #d4a843;
    --red: #8b1a1a;
    --blue: #1a2e5a;
    --tier1: #8b6914;
    --tier2: #2d5016;
    --tier3: #1a3a5c;
    --tier4: #5c3a1a;
    --tier5: #6b1a1a;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background-color: var(--cream);
    color: var(--ink);
    font-family: 'Source Serif 4', Georgia, serif;
    min-height: 100vh;
  }

  /* Parchment texture overlay */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: 
      repeating-linear-gradient(0deg, transparent, transparent 28px, rgba(180,150,80,0.04) 28px, rgba(180,150,80,0.04) 29px),
      repeating-linear-gradient(90deg, transparent, transparent 120px, rgba(180,150,80,0.02) 120px, rgba(180,150,80,0.02) 121px);
    pointer-events: none;
    z-index: 0;
  }

  .wrapper {
    position: relative;
    z-index: 1;
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px 80px;
  }

  header {
    text-align: center;
    padding: 48px 0 40px;
    border-bottom: 3px double var(--gold);
    margin-bottom: 40px;
  }

  .masthead {
    font-size: 11px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 16px;
    font-family: 'Source Serif 4', serif;
    font-weight: 300;
  }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(32px, 6vw, 58px);
    font-weight: 900;
    line-height: 1.05;
    color: var(--dark);
    margin-bottom: 12px;
    letter-spacing: -1px;
  }

  h1 em {
    font-style: italic;
    color: var(--gold);
  }

  .subtitle {
    font-size: 13px;
    color: #6b5a3e;
    letter-spacing: 2px;
    text-transform: uppercase;
    font-weight: 300;
  }

  /* Controls */
  .controls {
    display: flex;
    gap: 12px;
    margin-bottom: 28px;
    flex-wrap: wrap;
    align-items: center;
  }

  .search-box {
    flex: 1;
    min-width: 200px;
    padding: 10px 16px;
    border: 1.5px solid var(--gold);
    background: rgba(255,255,255,0.6);
    font-family: 'Source Serif 4', serif;
    font-size: 14px;
    color: var(--ink);
    outline: none;
    transition: border-color 0.2s, background 0.2s;
  }

  .search-box:focus {
    border-color: var(--gold-light);
    background: rgba(255,255,255,0.9);
  }

  .search-box::placeholder { color: #a09070; }

  .filter-btns {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }

  .filter-btn {
    padding: 8px 14px;
    border: 1.5px solid var(--gold);
    background: transparent;
    font-family: 'Source Serif 4', serif;
    font-size: 12px;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--gold);
    cursor: pointer;
    transition: all 0.2s;
  }

  .filter-btn:hover, .filter-btn.active {
    background: var(--gold);
    color: var(--cream);
  }

  /* Table */
  .table-container {
    background: rgba(255,255,255,0.35);
    border: 1.5px solid rgba(184,134,11,0.3);
    overflow: hidden;
  }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  thead {
    background: var(--dark);
    color: var(--gold-light);
  }

  thead th {
    padding: 14px 16px;
    font-family: 'Source Serif 4', serif;
    font-size: 11px;
    letter-spacing: 2.5px;
    text-transform: uppercase;
    font-weight: 400;
    text-align: left;
    border-right: 1px solid rgba(184,134,11,0.2);
    cursor: pointer;
    user-select: none;
    white-space: nowrap;
  }

  thead th:last-child { border-right: none; }
  thead th:hover { background: rgba(184,134,11,0.2); }

  thead th.sorted { color: var(--gold-light); }
  thead th.sorted::after { content: ' ↓'; font-size: 10px; }
  thead th.sorted.asc::after { content: ' ↑'; }

  tbody tr {
    border-bottom: 1px solid rgba(184,134,11,0.15);
    transition: background 0.15s;
    animation: fadeRow 0.3s ease both;
  }

  @keyframes fadeRow {
    from { opacity: 0; transform: translateY(4px); }
    to { opacity: 1; transform: translateY(0); }
  }

  tbody tr:hover { background: rgba(184,134,11,0.08); }
  tbody tr.hidden { display: none; }

  td {
    padding: 12px 16px;
    font-size: 14px;
    vertical-align: middle;
    border-right: 1px solid rgba(184,134,11,0.1);
  }

  td:last-child { border-right: none; }

  /* Rank column */
  .td-rank {
    font-family: 'Playfair Display', serif;
    font-size: 16px;
    font-weight: 700;
    width: 52px;
    text-align: center;
    color: #8a7050;
  }

  tr[data-tier="1"] .td-rank { color: var(--gold); font-size: 20px; }
  tr[data-tier="2"] .td-rank { color: #5a7a3a; }

  /* President name */
  .td-name {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    font-size: 15px;
    min-width: 140px;
  }

  tr[data-tier="1"] .td-name { color: #6b4800; }
  tr[data-tier="5"] .td-name { color: var(--red); }

  /* Rating bar */
  .td-rating {
    min-width: 200px;
  }

  .rating-wrap {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .rating-num {
    font-family: 'Playfair Display', serif;
    font-size: 15px;
    font-weight: 700;
    min-width: 38px;
    text-align: right;
  }

  .bar-track {
    flex: 1;
    height: 8px;
    background: rgba(184,134,11,0.12);
    position: relative;
    overflow: visible;
  }

  .bar-fill {
    height: 100%;
    transition: width 0.4s ease;
    position: relative;
  }

  tr[data-tier="1"] .bar-fill { background: linear-gradient(90deg, var(--gold), var(--gold-light)); }
  tr[data-tier="2"] .bar-fill { background: linear-gradient(90deg, #4a8a28, #6aaa40); }
  tr[data-tier="3"] .bar-fill { background: linear-gradient(90deg, #2a5a8a, #4a7aaa); }
  tr[data-tier="4"] .bar-fill { background: linear-gradient(90deg, #8a6030, #aa8050); }
  tr[data-tier="5"] .bar-fill { background: linear-gradient(90deg, var(--red), #c03030); }

  /* Change column */
  .td-change {
    text-align: center;
    font-size: 13px;
    min-width: 90px;
  }

  .change-up { color: #3a8a28; font-weight: 600; }
  .change-down { color: var(--red); font-weight: 600; }
  .change-same { color: #a09070; }

  /* Tier badge */
  .tier-badge {
    display: inline-block;
    padding: 3px 8px;
    font-size: 10px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    font-family: 'Source Serif 4', serif;
    font-weight: 600;
    border: 1px solid currentColor;
  }

  .tier-great { color: var(--gold); border-color: var(--gold); background: rgba(184,134,11,0.08); }
  .tier-above { color: #4a8a28; border-color: #4a8a28; background: rgba(74,138,40,0.06); }
  .tier-average { color: #2a5a8a; border-color: #2a5a8a; background: rgba(42,90,138,0.06); }
  .tier-below { color: #8a6030; border-color: #8a6030; background: rgba(138,96,48,0.06); }
  .tier-failure { color: var(--red); border-color: var(--red); background: rgba(139,26,26,0.06); }

  /* Legend */
  .legend {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 28px;
    padding: 16px 20px;
    border: 1px solid rgba(184,134,11,0.25);
    background: rgba(255,255,255,0.2);
  }

  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
    letter-spacing: 0.5px;
  }

  .legend-dot {
    width: 12px;
    height: 12px;
    flex-shrink: 0;
  }

  /* Footer */
  footer {
    text-align: center;
    margin-top: 48px;
    padding-top: 24px;
    border-top: 1px solid rgba(184,134,11,0.3);
    font-size: 12px;
    color: #8a7050;
    line-height: 1.6;
    font-style: italic;
  }

  .count-info {
    font-size: 13px;
    color: #8a7050;
    margin-bottom: 20px;
  }

  .count-info span {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    color: var(--gold);
  }
</style>
</head>
<body>
<div class="wrapper">
  <header>
    <div class="masthead">Presidential Greatness Project Expert Survey</div>
    <h1>Presidential <em>Greatness</em><br>Rankings 2024</h1>
    <div class="subtitle">154 Political Science Scholars &bull; November–December 2023</div>
  </header>

  <div class="legend">
    <div class="legend-item">
      <div class="legend-dot" style="background:var(--gold)"></div>
      <span class="tier-great tier-badge">Great</span> &nbsp;75+
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background:#4a8a28"></div>
      <span class="tier-above tier-badge">Above Avg</span> &nbsp;50–74
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background:#2a5a8a"></div>
      <span class="tier-average tier-badge">Average</span> &nbsp;40–49
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background:#8a6030"></div>
      <span class="tier-below tier-badge">Below Avg</span> &nbsp;25–39
    </div>
    <div class="legend-item">
      <div class="legend-dot" style="background:var(--red)"></div>
      <span class="tier-failure tier-badge">Failure</span> &nbsp;&lt;25
    </div>
  </div>

  <div class="controls">
    <input class="search-box" type="text" id="searchInput" placeholder="Search president…" oninput="filterTable()">
    <div class="filter-btns">
      <button class="filter-btn active" data-tier="all" onclick="setFilter(this, 'all')">All</button>
      <button class="filter-btn" data-tier="1" onclick="setFilter(this, '1')">Great</button>
      <button class="filter-btn" data-tier="2" onclick="setFilter(this, '2')">Above Avg</button>
      <button class="filter-btn" data-tier="3" onclick="setFilter(this, '3')">Average</button>
      <button class="filter-btn" data-tier="4" onclick="setFilter(this, '4')">Below Avg</button>
      <button class="filter-btn" data-tier="5" onclick="setFilter(this, '5')">Failure</button>
    </div>
  </div>

  <p class="count-info">Showing <span id="visCount">45</span> of 45 presidents</p>

  <div class="table-container">
    <table id="presTable">
      <thead>
        <tr>
          <th onclick="sortTable(0)" class="sorted" id="th0">#</th>
          <th onclick="sortTable(1)" id="th1">President</th>
          <th onclick="sortTable(2)" id="th2">Rating (0–100)</th>
          <th onclick="sortTable(3)" id="th3">Since 2015</th>
          <th onclick="sortTable(4)" id="th4">Tier</th>
        </tr>
      </thead>
      <tbody id="tableBody">
      </tbody>
    </table>
  </div>

  <footer>
    Source: 2024 Presidential Greatness Project Expert Survey<br>
    Brandon Rottinghaus, University of Houston &bull; Justin S. Vaughn, Coastal Carolina University<br>
    Survey conducted November 15 – December 31, 2023 &bull; n = 154 usable responses
  </footer>
</div>

<script>
const presidents = [
  { rank: 1,  name: "Abraham Lincoln",       rating: 93.87, change2015: 0,    change2018: 0 },
  { rank: 2,  name: "Franklin D. Roosevelt", rating: 90.83, change2015: 1,    change2018: 1 },
  { rank: 3,  name: "George Washington",     rating: 90.32, change2015: -1,   change2018: -1 },
  { rank: 4,  name: "Theodore Roosevelt",    rating: 78.58, change2015: 0,    change2018: 0 },
  { rank: 5,  name: "Thomas Jefferson",      rating: 77.53, change2015: 0,    change2018: 0 },
  { rank: 6,  name: "Harry Truman",          rating: 75.34, change2015: 1,    change2018: 0 },
  { rank: 7,  name: "Barack Obama",          rating: 73.80, change2015: 9,    change2018: 1 },
  { rank: 8,  name: "Dwight Eisenhower",     rating: 73.73, change2015: -1,   change2018: -2 },
  { rank: 9,  name: "Lyndon B. Johnson",     rating: 72.86, change2015: 3,    change2018: 1 },
  { rank: 10, name: "John F. Kennedy",       rating: 68.37, change2015: 4,    change2018: 6 },
  { rank: 11, name: "James Madison",         rating: 67.16, change2015: 2,    change2018: 1 },
  { rank: 12, name: "Bill Clinton",          rating: 66.42, change2015: -4,   change2018: 2 },
  { rank: 13, name: "John Adams",            rating: 62.66, change2015: 2,    change2018: 0 },
  { rank: 14, name: "Joe Biden",             rating: 62.66, change2015: 0,    change2018: 0 },
  { rank: 15, name: "Woodrow Wilson",        rating: 61.80, change2015: -5,   change2018: -4 },
  { rank: 16, name: "Ronald Reagan",         rating: 61.62, change2015: -5,   change2018: -7 },
  { rank: 17, name: "Ulysses S. Grant",      rating: 60.93, change2015: 9,    change2018: 4 },
  { rank: 18, name: "James Monroe",          rating: 60.15, change2015: 2,    change2018: -3 },
  { rank: 19, name: "George H.W. Bush",      rating: 58.54, change2015: -2,   change2018: -2 },
  { rank: 20, name: "John Q. Adams",         rating: 55.41, change2015: 2,    change2018: 4 },
  { rank: 21, name: "Andrew Jackson",        rating: 54.70, change2015: -12,  change2018: -3 },
  { rank: 22, name: "Jimmy Carter",          rating: 54.26, change2015: 4,    change2018: 4 },
  { rank: 23, name: "William H. Taft",       rating: 51.67, change2015: -3,   change2018: -1 },
  { rank: 24, name: "William McKinley",      rating: 51.23, change2015: -3,   change2018: -5 },
  { rank: 25, name: "James K. Polk",         rating: 49.83, change2015: -6,   change2018: -5 },
  { rank: 26, name: "Grover Cleveland",      rating: 48.31, change2015: -3,   change2018: -3 },
  { rank: 27, name: "Gerald Ford",           rating: 46.09, change2015: -3,   change2018: -2 },
  { rank: 28, name: "Martin Van Buren",      rating: 45.46, change2015: -3,   change2018: -1 },
  { rank: 29, name: "Rutherford B. Hayes",   rating: 41.15, change2015: 1,    change2018: 1 },
  { rank: 30, name: "James Garfield",        rating: 40.98, change2015: 1,    change2018: 5 },
  { rank: 31, name: "Benjamin Harrison",     rating: 40.64, change2015: -2,   change2018: 1 },
  { rank: 32, name: "George W. Bush",        rating: 40.43, change2015: 3,    change2018: -1 },
  { rank: 33, name: "Chester Arthur",        rating: 39.61, change2015: -1,   change2018: -4 },
  { rank: 34, name: "Calvin Coolidge",       rating: 39.38, change2015: -7,   change2018: -6 },
  { rank: 35, name: "Richard Nixon",         rating: 36.41, change2015: -1,   change2018: -2 },
  { rank: 36, name: "Herbert Hoover",        rating: 34.08, change2015: 2,    change2018: -2 },
  { rank: 37, name: "John Tyler",            rating: 32.99, change2015: -1,   change2018: 0 },
  { rank: 38, name: "Zachary Taylor",        rating: 32.97, change2015: -5,   change2018: -2 },
  { rank: 39, name: "Millard Fillmore",      rating: 30.33, change2015: -2,   change2018: -1 },
  { rank: 40, name: "Warren G. Harding",     rating: 27.76, change2015: 2,    change2018: -1 },
  { rank: 41, name: "William H. Harrison",   rating: 26.01, change2015: -2,   change2018: 1 },
  { rank: 42, name: "Franklin Pierce",       rating: 24.60, change2015: -2,   change2018: -1 },
  { rank: 43, name: "Andrew Johnson",        rating: 21.56, change2015: -2,   change2018: -3 },
  { rank: 44, name: "James Buchanan",        rating: 16.71, change2015: -1,   change2018: -1 },
  { rank: 45, name: "Donald Trump",          rating: 10.92, change2015: -1,   change2018: 0 },
];

function getTier(rating) {
  if (rating >= 75) return 1;
  if (rating >= 50) return 2;
  if (rating >= 40) return 3;
  if (rating >= 25) return 4;
  return 5;
}

function getTierLabel(tier) {
  const labels = { 1: ['Great','tier-great'], 2: ['Above Avg','tier-above'], 3: ['Average','tier-average'], 4: ['Below Avg','tier-below'], 5: ['Failure','tier-failure'] };
  return labels[tier];
}

function changeHTML(val) {
  if (!val) return '<span class="change-same">—</span>';
  if (val > 0) return `<span class="change-up">▲ ${val}</span>`;
  return `<span class="change-down">▼ ${Math.abs(val)}</span>`;
}

let sortCol = 0, sortAsc = true;
let activeFilter = 'all';

function renderTable(data) {
  const tbody = document.getElementById('tableBody');
  tbody.innerHTML = '';
  let delay = 0;
  data.forEach((p, i) => {
    const tier = getTier(p.rating);
    const [tLabel, tClass] = getTierLabel(tier);
    const barWidth = (p.rating / 100 * 100).toFixed(1);
    const tr = document.createElement('tr');
    tr.dataset.tier = tier;
    tr.dataset.name = p.name.toLowerCase();
    tr.style.animationDelay = (i * 15) + 'ms';
    tr.innerHTML = `
      <td class="td-rank">${p.rank}</td>
      <td class="td-name">${p.name}</td>
      <td class="td-rating">
        <div class="rating-wrap">
          <span class="rating-num">${p.rating.toFixed(2)}</span>
          <div class="bar-track">
            <div class="bar-fill" style="width:${barWidth}%"></div>
          </div>
        </div>
      </td>
      <td class="td-change">${changeHTML(p.change2015)}</td>
      <td><span class="tier-badge ${tClass}">${tLabel}</span></td>
    `;
    tbody.appendChild(tr);
  });
  updateCount();
}

function filterTable() {
  const q = document.getElementById('searchInput').value.toLowerCase();
  const rows = document.querySelectorAll('#tableBody tr');
  let vis = 0;
  rows.forEach(row => {
    const name = row.dataset.name;
    const tier = row.dataset.tier;
    const matchSearch = !q || name.includes(q);
    const matchTier = activeFilter === 'all' || tier === activeFilter;
    if (matchSearch && matchTier) { row.classList.remove('hidden'); vis++; }
    else row.classList.add('hidden');
  });
  document.getElementById('visCount').textContent = vis;
}

function setFilter(btn, tier) {
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  activeFilter = tier;
  filterTable();
}

function updateCount() {
  document.getElementById('visCount').textContent = 
    document.querySelectorAll('#tableBody tr:not(.hidden)').length;
}

function sortTable(col) {
  if (sortCol === col) sortAsc = !sortAsc;
  else { sortCol = col; sortAsc = col === 0 || col === 2 ? true : false; }
  
  // Update header styles
  document.querySelectorAll('thead th').forEach((th, i) => {
    th.classList.remove('sorted', 'asc');
    if (i === col) {
      th.classList.add('sorted');
      if (!sortAsc) th.classList.add('asc');
    }
  });

  const sorted = [...presidents].sort((a, b) => {
    let av, bv;
    if (col === 0) { av = a.rank; bv = b.rank; }
    else if (col === 1) { av = a.name; bv = b.name; }
    else if (col === 2) { av = a.rating; bv = b.rating; }
    else if (col === 3) { av = a.change2015 || -999; bv = b.change2015 || -999; }
    else { av = getTier(a.rating); bv = getTier(b.rating); }
    
    if (av < bv) return sortAsc ? -1 : 1;
    if (av > bv) return sortAsc ? 1 : -1;
    return 0;
  });

  renderTable(sorted);
  filterTable();
}

// Initial render
renderTable(presidents);
</script>
</body>
</html>
